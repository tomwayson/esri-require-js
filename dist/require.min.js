/*! esri-require - v0.0.0 - 2013-10-04
* Copyright (c) 2013 Author Name; Licensed MIT */
var requirejs,require,define;(function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;e.length>n&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,i){(n||!hasProp(e,i))&&(r&&"string"!=typeof t?(e[i]||(e[i]={}),mixin(e[i],t,n,r)):e[i]=t)}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var i=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return i.requireType=e,i.requireModules=r,n&&(i.originalError=n),i}function newContext(e){function t(e){var t,n;for(t=0;e[t];t+=1)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,r){var i,o,a,s,u,c,d,l,f,p,h,m=n&&n.split("/"),g=m,v=k.map,b=v&&v["*"];if(e&&"."===e.charAt(0)&&(n?(g=getOwn(k.pkgs,n)?m=[n]:m.slice(0,m.length-1),e=g.concat(e.split("/")),t(e),o=getOwn(k.pkgs,i=e[0]),e=e.join("/"),o&&e===i+"/"+o.main&&(e=i)):0===e.indexOf("./")&&(e=e.substring(2))),r&&v&&(m||b)){for(s=e.split("/"),u=s.length;u>0;u-=1){if(d=s.slice(0,u).join("/"),m)for(c=m.length;c>0;c-=1)if(a=getOwn(v,m.slice(0,c).join("/")),a&&(a=getOwn(a,d))){l=a,f=u;break}if(l)break;!p&&b&&getOwn(b,d)&&(p=getOwn(b,d),h=u)}!l&&p&&(l=p,f=h),l&&(s.splice(0,f,l),e=s.join("/"))}return e}function r(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===w.contextName?(t.parentNode.removeChild(t),!0):void 0})}function i(e){var t=getOwn(k.paths,e);return t&&isArray(t)&&t.length>1?(r(e),t.shift(),w.require.undef(e),w.require([e]),!0):void 0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function a(e,t,r,i){var a,s,u,c,d=null,l=t?t.name:null,f=e,p=!0,h="";return e||(p=!1,e="_@r"+(D+=1)),c=o(e),d=c[0],e=c[1],d&&(d=n(d,l,i),s=getOwn(_,d)),e&&(d?h=s&&s.normalize?s.normalize(e,function(e){return n(e,l,i)}):n(e,l,i):(h=n(e,l,i),c=o(h),d=c[0],h=c[1],r=!0,a=w.nameToUrl(h))),u=!d||s||r?"":"_unnormalized"+(P+=1),{prefix:d,name:h,parentMap:t,unnormalized:!!u,url:a,originalName:f,isDefine:p,id:(d?d+"!"+h:h)+u}}function s(e){var t=e.id,n=getOwn(C,t);return n||(n=C[t]=new w.Module(e)),n}function u(e,t,n){var r=e.id,i=getOwn(C,r);!hasProp(_,r)||i&&!i.defineEmitComplete?(i=s(e),i.error&&"error"===t?n(i.error):i.on(t,n)):"defined"===t&&n(_[r])}function c(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(C,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function d(){globalDefQueue.length&&(apsp.apply(M,[M.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function l(e){delete C[e],delete S[e]}function f(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,i){var o=r.id,a=getOwn(C,o);!a||e.depMatched[i]||n[o]||(getOwn(t,o)?(e.defineDep(i,_[o]),e.check()):f(a,t,n))}),n[r]=!0)}function p(){var e,t,n,o,a=1e3*k.waitSeconds,s=a&&w.startTime+a<(new Date).getTime(),u=[],d=[],l=!1,h=!0;if(!b){if(b=!0,eachProp(S,function(n){if(e=n.map,t=e.id,n.enabled&&(e.isDefine||d.push(n),!n.error))if(!n.inited&&s)i(t)?(o=!0,l=!0):(u.push(t),r(t));else if(!n.inited&&n.fetched&&e.isDefine&&(l=!0,!e.prefix))return h=!1}),s&&u.length)return n=makeError("timeout","Load timeout for modules: "+u,null,u),n.contextName=w.contextName,c(n);h&&each(d,function(e){f(e,{},{})}),s&&!o||!l||!isBrowser&&!isWebWorker||E||(E=setTimeout(function(){E=0,p()},50)),b=!1}}function h(e){hasProp(_,e[0])||s(a(e[0],null,!0)).init(e[1],e[2])}function m(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,w.onScriptLoad,"load","onreadystatechange"),m(t,w.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(d();M.length;){if(e=M.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));h(e)}}var b,y,w,x,E,k={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},C={},S={},j={},M=[],_={},q={},D=1,P=1;return x={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?e.exports:e.exports=_[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){var t,n=getOwn(k.pkgs,e.map.id);return t=n?getOwn(k.config,e.map.id+"/"+n.main):getOwn(k.config,e.map.id),t||{}},exports:_[e.map.id]}}},y=function(e){this.events=getOwn(j,e.id)||{},this.map=e,this.shim=getOwn(k.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},y.prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;return this.shim?(w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})),void 0):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;q[e]||(q[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,r=this.depExports,i=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=w.execCb(n,o,r,i)}catch(a){e=a}else i=w.execCb(n,o,r,i);if(this.map.isDefine&&(t=this.module,t&&void 0!==t.exports&&t.exports!==this.exports?i=t.exports:void 0===i&&this.usingExports&&(i=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else i=o;this.exports=i,this.map.isDefine&&!this.ignore&&(_[n]=i,req.onResourceLoad&&req.onResourceLoad(w,this.map,this.depMaps)),l(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,r=a(e.prefix);this.depMaps.push(r),u(r,"defined",bind(this,function(r){var i,o,d,f=this.map.name,p=this.map.parentMap?this.map.parentMap.name:null,h=w.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(f=r.normalize(f,function(e){return n(e,p,!0)})||""),o=a(e.prefix+"!"+f,this.map.parentMap),u(o,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),d=getOwn(C,o.id),d&&(this.depMaps.push(o),this.events.error&&d.on("error",bind(this,function(e){this.emit("error",e)})),d.enable()),void 0):(i=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),i.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(C,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&l(e.map.id)}),c(e)}),i.fromText=bind(this,function(n,r){var o=e.name,u=a(o),d=useInteractive;r&&(n=r),d&&(useInteractive=!1),s(u),hasProp(k.config,t)&&(k.config[o]=k.config[t]);try{req.exec(n)}catch(l){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+l,l,[t]))}d&&(useInteractive=!0),this.depMaps.push(u),w.completeLoad(o),h([o],i)}),r.load(e.name,h,i,k),void 0)})),w.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){S[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,r,i;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,i=getOwn(x,e.id))return this.depExports[t]=i(this),void 0;this.depCount+=1,u(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&u(e,"error",bind(this,this.errback))}n=e.id,r=C[n],hasProp(x,n)||!r||r.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(C,e.id);t&&!t.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},w={config:k,contextName:e,registry:C,defined:_,urlFetched:q,defQueue:M,Module:y,makeModuleMap:a,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=k.pkgs,n=k.shim,r={paths:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?"map"===t?(k.map||(k.map={}),mixin(k[t],e,!0,!0)):mixin(k[t],e,!0):k[t]=e}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),n[t]=e}),k.shim=n),e.packages&&(each(e.packages,function(e){var n;e="string"==typeof e?{name:e}:e,n=e.location,t[e.name]={name:e.name,location:n||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),k.pkgs=t),eachProp(C,function(e,t){e.inited||e.map.unnormalized||(e.map=a(t))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,r){function i(n,o,u){var d,l,f;return r.enableBuildCallback&&o&&isFunction(o)&&(o.__requireJsBuild=!0),"string"==typeof n?isFunction(o)?c(makeError("requireargs","Invalid require call"),u):t&&hasProp(x,n)?x[n](C[t.id]):req.get?req.get(w,n,t,i):(l=a(n,t,!1,!0),d=l.id,hasProp(_,d)?_[d]:c(makeError("notloaded",'Module name "'+d+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),w.nextTick(function(){v(),f=s(a(null,t)),f.skipMap=r.skipMap,f.init(n,o,u,{enabled:!0}),p()}),i)}return r=r||{},mixin(i,{isBrowser:isBrowser,toUrl:function(e){var r,i=e.lastIndexOf("."),o=e.split("/")[0],a="."===o||".."===o;return-1!==i&&(!a||i>1)&&(r=e.substring(i,e.length),e=e.substring(0,i)),w.nameToUrl(n(e,t&&t.id,!0),r,!0)},defined:function(e){return hasProp(_,a(e,t,!1,!0).id)},specified:function(e){return e=a(e,t,!1,!0).id,hasProp(_,e)||hasProp(C,e)}}),t||(i.undef=function(e){d();var n=a(e,t,!0),r=getOwn(C,e);delete _[e],delete q[n.url],delete j[e],r&&(r.events.defined&&(j[e]=r.events),l(e))}),i},enable:function(e){var t=getOwn(C,e.id);t&&s(e).enable()},completeLoad:function(e){var t,n,r,o=getOwn(k.shim,e)||{},a=o.exports;for(d();M.length;){if(n=M.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);h(n)}if(r=getOwn(C,e),!t&&!hasProp(_,e)&&r&&!r.inited){if(!(!k.enforceDefine||a&&getGlobal(a)))return i(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));h([e,o.deps||[],o.exportsFn])}p()},nameToUrl:function(e,t,n){var r,i,o,a,s,u,c,d,l;if(req.jsExtRegExp.test(e))d=e+(t||"");else{for(r=k.paths,i=k.pkgs,s=e.split("/"),u=s.length;u>0;u-=1){if(c=s.slice(0,u).join("/"),o=getOwn(i,c),l=getOwn(r,c)){isArray(l)&&(l=l[0]),s.splice(0,u,l);break}if(o){a=e===o.name?o.location+"/"+o.main:o.location,s.splice(0,u,a);break}}d=s.join("/"),d+=t||(/\?/.test(d)||n?"":".js"),d=("/"===d.charAt(0)||d.match(/^[\w\+\.\-]+:/)?"":k.baseUrl)+d}return k.urlArgs?d+((-1===d.indexOf("?")?"?":"&")+k.urlArgs):d},load:function(e,t){req.load(w,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);w.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);return i(t.id)?void 0:c(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.8",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"==""+opera,contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(void 0===define){if(requirejs!==void 0){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var i,o,a=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=r):e=[]),o&&o.context&&(a=o.context),i=getOwn(contexts,a),i||(i=contexts[a]=req.s.newContext(a)),o&&i.configure(o),i.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(e,t,n){var r,i=e&&e.config||{};if(isBrowser)return r=req.createNode(i,t,n),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&0>(""+r.attachEvent).indexOf("[native code")||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=n,currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(o){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,o,[t]))}},isBrowser&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var r,i;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&((""+n).replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),(i?i.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}})(this),define("dojo/has",["require","module"],function(e,t){var n=e.has||function(){};if(!n("dojo-has-api")){var r="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document,i=this,o=r&&document,a=o&&o.createElement("DiV"),s=t.config&&t.config()||{};n=function(e){return"function"==typeof s[e]?s[e]=s[e](i,o,a):s[e]},n.cache=s,n.add=function(e,t,r,i){return(s[e]===void 0||i)&&(s[e]=t),r&&n(e)},n.add("host-browser",r),n.add("dom",r),n.add("dojo-dom-ready-api",1),n.add("dojo-sniff",1)}if(n("host-browser")){n.add("dom-addeventlistener",!!document.addEventListener),n.add("touch","ontouchstart"in document||window.navigator.msMaxTouchPoints>0),n.add("device-width",screen.availWidth||innerWidth);var u=document.createElement("form");n.add("dom-attributes-explicit",0==u.attributes.length),n.add("dom-attributes-specified-flag",u.attributes.length>0&&40>u.attributes.length)}return n.clearElement=function(e){return e.innerHTML="",e},n.normalize=function(e,t){var r=e.match(/[\?:]|[^:\?]*/g),i=0,o=function(e){var t=r[i++];return":"==t?0:"?"==r[i++]?!e&&n(t)?o():(o(!0),o(e)):t||0};return e=o(),e&&t(e)},n.load=function(e,t,n){e?t([e],n):n()},n}),define("dojo/sniff",["./has"],function(e){if(e("host-browser")){var t=navigator,n=t.userAgent,r=t.appVersion,i=parseFloat(r);if(e.add("air",n.indexOf("AdobeAIR")>=0),e.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),e.add("khtml",r.indexOf("Konqueror")>=0?i:void 0),e.add("webkit",parseFloat(n.split("WebKit/")[1])||void 0),e.add("chrome",parseFloat(n.split("Chrome/")[1])||void 0),e.add("safari",r.indexOf("Safari")>=0&&!e("chrome")?parseFloat(r.split("Version/")[1]):void 0),e.add("mac",r.indexOf("Macintosh")>=0),e.add("quirks","BackCompat"==document.compatMode),n.match(/(iPhone|iPod|iPad)/)){var o=RegExp.$1.replace(/P/,"p"),a=n.match(/OS ([\d_]+)/)?RegExp.$1:"1",s=parseFloat(a.replace(/_/,".").replace(/_/g,""));e.add(o,s),e.add("ios",s)}if(e.add("android",parseFloat(n.split("Android ")[1])||void 0),e.add("bb",(n.indexOf("BlackBerry")>=0||n.indexOf("BB10")>=0)&&parseFloat(n.split("Version/")[1])||void 0),e.add("svg","undefined"!=typeof SVGAngle),!e("webkit")){if(n.indexOf("Opera")>=0&&e.add("opera",i>=9.8?parseFloat(n.split("Version/")[1])||i:i),n.indexOf("Gecko")>=0&&!e("khtml")&&!e("webkit")&&e.add("mozilla",i),e("mozilla")&&e.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0),document.all&&!e("opera")){var u=parseFloat(r.split("MSIE ")[1])||void 0,c=document.documentMode;c&&5!=c&&Math.floor(u)!=c&&(u=c),e.add("ie",u)}e.add("wii","undefined"!=typeof opera&&opera.wiiremote)}}return e}),define("dojo/_base/config",["../has","require"],function(e,t){var n={};if(e("dojo-config-api")){var r,i=t.rawConfig;for(r in i)n[r]=i[r]}else{var o=function(t,n,i){for(r in t)"has"!=r&&e.add(n+r,t[r],0,i)};n=e("dojo-loader")?t.rawConfig:this.dojoConfig||this.djConfig||{},o(n,"config",1),o(n.has,"",1)}return n.locale||"undefined"==typeof navigator||(n.locale=(navigator.language||navigator.userLanguage).toLowerCase()),n}),define("dojo/_base/kernel",["../has","./config","require","module"],function(e,t,n,r){var i,o,a,s={},u={},c={config:t,global:this,dijit:s,dojox:u},d={dojo:["dojo",c],dijit:["dijit",s],dojox:["dojox",u]},l=n.map&&n.map[r.id.match(/[^\/]+/)[0]];for(o in l)d[o]?d[o][0]=l[o]:d[o]=[l[o],{}];for(o in d)a=d[o],a[1]._scopeName=a[0],t.noGlobals||(this[a[0]]=a[1]);c.scopeMap=d,c.baseUrl=c.config.baseUrl=n.baseUrl,c.isAsync=!e("dojo-loader")||n.async,c.locale=t.locale;var f="$Rev: 43d05c6 $".match(/\d+/);if(c.version={major:1,minor:9,patch:1,flag:"",revision:f?+f[0]:0/0,toString:function(){var e=c.version;return e.major+"."+e.minor+"."+e.patch+e.flag+" ("+e.revision+")"}},e.add("extend-dojo",1),Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(c),c.exit=e("host-rhino")?function(e){quit(e)}:function(){},e.add("dojo-guarantee-console",1),e("dojo-guarantee-console")){"undefined"!=typeof console||(console={});var p,h=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];for(i=0;p=h[i++];)console[p]||function(){var e=p+"";console[e]="log"in console?function(){var t=Array.apply({},arguments);t.unshift(e+":"),console.log(t.join(" "))}:function(){},console[e]._fake=!0}()}if(e.add("dojo-debug-messages",!!t.isDebug),c.deprecated=c.experimental=function(){},e("dojo-debug-messages")&&(c.deprecated=function(e,t,n){var r="DEPRECATED: "+e;t&&(r+=" "+t),n&&(r+=" -- will be removed in version: "+n),console.warn(r)},c.experimental=function(e,t){var n="EXPERIMENTAL: "+e+" -- APIs subject to change without notice.";t&&(n+=" "+t),console.warn(n)}),e.add("dojo-modulePaths",1),e("dojo-modulePaths")&&t.modulePaths){c.deprecated("dojo.modulePaths","use paths configuration");var m={};for(o in t.modulePaths)m[o.replace(/\./g,"/")]=t.modulePaths[o];n({paths:m})}return e.add("dojo-moduleUrl",1),e("dojo-moduleUrl")&&(c.moduleUrl=function(e,t){c.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var r=null;return e&&(r=n.toUrl(e.replace(/\./g,"/")+(t?"/"+t:"")+"/*.*").replace(/\/\*\.\*/,"")+(t?"":"/")),r}),c._hasResource={},c}),define("dojo/_base/lang",["./kernel","../has","../sniff"],function(e,t){t.add("bug-for-in-skips-shadowed",function(){for(var e in{toString:1})return 0;return 1});var n=t("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],r=n.length,i=function(t,n,r){var i,o=0,a=e.global;if(!r){if(!t.length)return a;i=t[o++];try{r=e.scopeMap[i]&&e.scopeMap[i][1]}catch(s){}r=r||(i in a?a[i]:n?a[i]={}:void 0)}for(;r&&(i=t[o++]);)r=i in r?r[i]:n?r[i]={}:void 0;return r},o=Object.prototype.toString,a=function(e,t,n){return(n||[]).concat(Array.prototype.slice.call(e,t||0))},s=/\{([^\}]+)\}/g,u={_extraNames:n,_mixin:function(e,i,o){var a,s,u,c={};for(a in i)s=i[a],a in e&&(e[a]===s||a in c&&c[a]===s)||(e[a]=o?o(s):s);if(t("bug-for-in-skips-shadowed")&&i)for(u=0;r>u;++u)a=n[u],s=i[a],a in e&&(e[a]===s||a in c&&c[a]===s)||(e[a]=o?o(s):s);return e},mixin:function(e){e||(e={});for(var t=1,n=arguments.length;n>t;t++)u._mixin(e,arguments[t]);return e},setObject:function(e,t,n){var r=e.split("."),o=r.pop(),a=i(r,!0,n);return a&&o?a[o]=t:void 0},getObject:function(e,t,n){return i(e.split("."),t,n)},exists:function(e,t){return void 0!==u.getObject(e,!1,t)},isString:function(e){return"string"==typeof e||e instanceof String},isArray:function(e){return e&&(e instanceof Array||"array"==typeof e)},isFunction:function(e){return"[object Function]"===o.call(e)},isObject:function(e){return void 0!==e&&(null===e||"object"==typeof e||u.isArray(e)||u.isFunction(e))},isArrayLike:function(e){return!(!e||void 0===e||u.isString(e)||u.isFunction(e)||e.tagName&&"form"==e.tagName.toLowerCase()||!u.isArray(e)&&!isFinite(e.length))},isAlien:function(e){return e&&!u.isFunction(e)&&/\{\s*\[native code\]\s*\}/.test(e+"")},extend:function(e){for(var t=1,n=arguments.length;n>t;t++)u._mixin(e.prototype,arguments[t]);return e},_hitchArgs:function(t,n){var r=u._toArray(arguments,2),i=u.isString(n);return function(){var o=u._toArray(arguments),a=i?(t||e.global)[n]:n;return a&&a.apply(t||this,r.concat(o))}},hitch:function(t,n){if(arguments.length>2)return u._hitchArgs.apply(e,arguments);if(n||(n=t,t=null),u.isString(n)){if(t=t||e.global,!t[n])throw['lang.hitch: scope["',n,'"] is null (scope="',t,'")'].join("");return function(){return t[n].apply(t,arguments||[])}}return t?function(){return n.apply(t,arguments||[])}:n},delegate:function(){function e(){}return function(t,n){e.prototype=t;var r=new e;return e.prototype=null,n&&u._mixin(r,n),r}}(),_toArray:t("ie")?function(){function e(e,t,n){for(var r=n||[],i=t||0;e.length>i;i++)r.push(e[i]);return r}return function(t){return(t.item?e:a).apply(this,arguments)}}():a,partial:function(){var t=[null];return u.hitch.apply(e,t.concat(u._toArray(arguments)))},clone:function(e){if(!e||"object"!=typeof e||u.isFunction(e))return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return RegExp(e);var t,n,r;if(u.isArray(e))for(t=[],n=0,r=e.length;r>n;++n)n in e&&t.push(u.clone(e[n]));else t=e.constructor?new e.constructor:{};return u._mixin(t,e,u.clone)},trim:String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(e,t,n){return e.replace(n||s,u.isFunction(t)?t:function(e,n){return u.getObject(n,!1,t)})}};return t("extend-dojo")&&u.mixin(e,u),u}),define("dojo/_base/window",["./kernel","./lang","../sniff"],function(e,t,n){var r={global:e.global,doc:this.document||null,body:function(t){return t=t||e.doc,t.body||t.getElementsByTagName("body")[0]},setContext:function(t,n){e.global=r.global=t,e.doc=r.doc=n},withGlobal:function(t,n,i,o){var a=e.global;try{return e.global=r.global=t,r.withDoc.call(null,t.document,n,i,o)}finally{e.global=r.global=a}},withDoc:function(t,i,o,a){var s,u,c,d=r.doc,l=n("quirks"),f=n("ie");try{return e.doc=r.doc=t,e.isQuirks=n.add("quirks","BackCompat"==e.doc.compatMode,!0,!0),n("ie")&&(c=t.parentWindow)&&c.navigator&&(s=parseFloat(c.navigator.appVersion.split("MSIE ")[1])||void 0,u=t.documentMode,u&&5!=u&&Math.floor(s)!=u&&(s=u),e.isIE=n.add("ie",s,!0,!0)),o&&"string"==typeof i&&(i=o[i]),i.apply(o,a||[])}finally{e.doc=r.doc=d,e.isQuirks=n.add("quirks",l,!0,!0),e.isIE=n.add("ie",f,!0,!0)}}};return n("extend-dojo")&&t.mixin(e,r),r}),define("dojo/dom",["./sniff","./_base/window"],function(e,t){if(7>=e("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(n){}var r={};r.byId=e("ie")?function(e,n){if("string"!=typeof e)return e;var r=n||t.doc,i=e&&r.getElementById(e);if(i&&(i.attributes.id.value==e||i.id==e))return i;var o=r.all[e];(!o||o.nodeName)&&(o=[o]);for(var a=0;i=o[a++];)if(i.attributes&&i.attributes.id&&i.attributes.id.value==e||i.id==e)return i}:function(e,n){return("string"==typeof e?(n||t.doc).getElementById(e):e)||null},r.isDescendant=function(e,t){try{for(e=r.byId(e),t=r.byId(t);e;){if(e==t)return!0;e=e.parentNode}}catch(n){}return!1},e.add("css-user-select",function(e,t,n){if(!n)return!1;var r=n.style,i=["Khtml","O","ms","Moz","Webkit"],o=i.length,a="userSelect";do if(r[a]!==void 0)return a;while(o--&&(a=i[o]+"UserSelect"));return!1});var i=e("css-user-select");return r.setSelectable=i?function(e,t){r.byId(e).style[i]=t?"":"none"}:function(e,t){e=r.byId(e);var n=e.getElementsByTagName("*"),i=n.length;if(t)for(e.removeAttribute("unselectable");i--;)n[i].removeAttribute("unselectable");else for(e.setAttribute("unselectable","on");i--;)n[i].setAttribute("unselectable","on")},r}),define("dojo/dom-style",["./sniff","./dom"],function(e,t){function n(t,n,r){if(n=n.toLowerCase(),e("ie")){if("auto"==r){if("height"==n)return t.offsetHeight;if("width"==n)return t.offsetWidth}if("fontweight"==n)switch(r){case 700:return"bold";case 400:default:return"normal"}}return n in d||(d[n]=l.test(n)),d[n]?o(t,r):r}var r,i={};r=e("webkit")?function(e){var t;if(1==e.nodeType){var n=e.ownerDocument.defaultView;t=n.getComputedStyle(e,null),!t&&e.style&&(e.style.display="",t=n.getComputedStyle(e,null))}return t||{}}:e("ie")&&(9>e("ie")||e("quirks"))?function(e){return 1==e.nodeType&&e.currentStyle?e.currentStyle:{}}:function(e){return 1==e.nodeType?e.ownerDocument.defaultView.getComputedStyle(e,null):{}},i.getComputedStyle=r;var o;o=e("ie")?function(e,t){if(!t)return 0;if("medium"==t)return 4;if(t.slice&&"px"==t.slice(-2))return parseFloat(t);var n=e.style,r=e.runtimeStyle,i=e.currentStyle,o=n.left,a=r.left;r.left=i.left;try{n.left=t,t=n.pixelLeft}catch(s){t=0}return n.left=o,r.left=a,t}:function(e,t){return parseFloat(t)||0},i.toPixelValue=o;var a="DXImageTransform.Microsoft.Alpha",s=function(e,t){try{return e.filters.item(a)}catch(n){return t?{}:null}},u=9>e("ie")||10>e("ie")&&e("quirks")?function(e){try{return s(e).Opacity/100}catch(t){return 1}}:function(e){return r(e).opacity},c=9>e("ie")||10>e("ie")&&e("quirks")?function(e,t){""===t&&(t=1);var n=100*t,r=1===t;if(r?(e.style.zoom="",s(e)&&(e.style.filter=e.style.filter.replace(RegExp("\\s*progid:"+a+"\\([^\\)]+?\\)","i"),""))):(e.style.zoom=1,s(e)?s(e,1).Opacity=n:e.style.filter+=" progid:"+a+"(Opacity="+n+")",s(e,1).Enabled=!0),"tr"==e.tagName.toLowerCase())for(var i=e.firstChild;i;i=i.nextSibling)"td"==i.tagName.toLowerCase()&&c(i,t);return t}:function(e,t){return e.style.opacity=t},d={left:!0,top:!0},l=/margin|padding|width|height|max|min|offset/,f={cssFloat:1,styleFloat:1,"float":1};return i.get=function(e,r){var o=t.byId(e),a=arguments.length,s="opacity"==r;if(2==a&&s)return u(o);r=f[r]?"cssFloat"in o.style?"cssFloat":"styleFloat":r;var c=i.getComputedStyle(o);return 1==a?c:n(o,r,c[r]||o.style[r])},i.set=function(e,n,r){var o=t.byId(e),a=arguments.length,s="opacity"==n;if(n=f[n]?"cssFloat"in o.style?"cssFloat":"styleFloat":n,3==a)return s?c(o,r):o.style[n]=r;for(var u in n)i.set(e,u,n[u]);return i.getComputedStyle(o)},i}),define("dojo/aspect",[],function(){function e(e,t,n,i){var o,a=e[t],s="around"==t;if(s){var u=n(function(){return a.advice(this,arguments)});o={remove:function(){u&&(u=e=n=null)},advice:function(e,t){return u?u.apply(e,t):a.advice(e,t)}}}else o={remove:function(){if(o.advice){var r=o.previous,i=o.next;i||r?(r?r.next=i:e[t]=i,i&&(i.previous=r)):delete e[t],e=n=o.advice=null}},id:r++,advice:n,receiveArguments:i};if(a&&!s)if("after"==t){for(;a.next&&(a=a.next););a.next=o,o.previous=a}else"before"==t&&(e[t]=o,o.next=a,a.previous=o);else e[t]=o;return o}function t(t){return function(i,o,a,s){var u,c=i[o];c&&c.target==i||(i[o]=u=function(){for(var e=r,t=arguments,i=u.before;i;)t=i.advice.apply(this,t)||t,i=i.next;if(u.around)var o=u.around.advice(this,t);for(var a=u.after;a&&e>a.id;){if(a.receiveArguments){var s=a.advice.apply(this,t);o=s===n?o:s}else o=a.advice.call(this,o,t);a=a.next}return o},c&&(u.around={advice:function(e,t){return c.apply(e,t)}}),u.target=i);var d=e(u||c,t,a,s);return a=null,d}}var n,r=0,i=t("after"),o=t("before"),a=t("around");return{before:o,around:a,after:i}}),define("dojo/on",["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(e,t,n){function r(e,t,r,i,o){var a=t.match(/(.*):(.*)/);if(a)return t=a[2],a=a[1],s.selector(a,t).call(o,e,r);if(n("touch")&&(u.test(t)&&(r=k(r)),n("event-orientationchange")||"orientationchange"!=t||(t="resize",e=window,r=k(r))),p&&(r=p(r)),e.addEventListener){var c=t in l,d=c?l[t]:t;return e.addEventListener(d,r,c),{remove:function(){e.removeEventListener(d,r,c)}}}if(t="on"+t,v&&e.attachEvent)return v(e,t,r);throw Error("Target must be an event emitter")}function i(){this.cancelable=!1,this.defaultPrevented=!0}function o(){this.bubbles=!1}if(n("dom")){var a=window.ScriptEngineMajorVersion;n.add("jscript",a&&a()+ScriptEngineMinorVersion()/10),n.add("event-orientationchange",n("touch")&&!n("android")),n.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation),n.add("event-focusin",function(e,t,n){return!!n.attachEvent})}var s=function(e,t,n,i){return"function"!=typeof e.on||"function"==typeof t||e.nodeType?s.parse(e,t,n,r,i,this):e.on(t,n)};s.pausable=function(e,t,n,r){var i,o=s(e,t,function(){return i?void 0:n.apply(this,arguments)},r);return o.pause=function(){i=!0
},o.resume=function(){i=!1},o},s.once=function(e,t,n){var r=s(e,t,function(){return r.remove(),n.apply(this,arguments)});return r},s.parse=function(e,t,n,r,i,o){if(t.call)return t.call(o,e,n);if(t.indexOf(",")>-1){for(var a,s=t.split(/\s*,\s*/),u=[],c=0;a=s[c++];)u.push(r(e,a,n,i,o));return u.remove=function(){for(var e=0;u.length>e;e++)u[e].remove()},u}return r(e,t,n,i,o)};var u=/^touch/;s.selector=function(e,n,r){return function(i,o){function a(n){for(u=u&&u.matches?u:t.query;!u.matches(n,e,i);)if(n==i||r===!1||!(n=n.parentNode)||1!=n.nodeType)return;return n}var u="function"==typeof e?{matches:e}:this,c=n.bubble;return c?s(i,c(a),o):s(i,n,function(e){var t=a(e.target);return t&&o.call(t,e)})}};var c=[].slice,d=s.emit=function(e,t,n){var r=c.call(arguments,2),a="on"+t;if("parentNode"in e){var s=r[0]={};for(var u in n)s[u]=n[u];s.preventDefault=i,s.stopPropagation=o,s.target=e,s.type=t,n=s}do e[a]&&e[a].apply(e,r);while(n&&n.bubbles&&(e=e.parentNode));return n&&n.cancelable&&n},l=n("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!n("event-stopimmediatepropagation"))var f=function(){this.immediatelyStopped=!0,this.modified=!0},p=function(e){return function(t){return t.immediatelyStopped?void 0:(t.stopImmediatePropagation=f,e.apply(this,arguments))}};if(n("dom-addeventlistener"))s.emit=function(e,t,n){if(e.dispatchEvent&&document.createEvent){var r=e.ownerDocument.createEvent("HTMLEvents");r.initEvent(t,!!n.bubbles,!!n.cancelable);for(var i in n)i in r||(r[i]=n[i]);return e.dispatchEvent(r)&&r}return d.apply(s,arguments)};else{s._fixEvent=function(e,t){if(!e){var n=t&&(t.ownerDocument||t.document||t).parentWindow||window;e=n.event}if(!e)return e;try{h&&e.type==h.type&&e.srcElement==h.target&&(e=h)}catch(r){}if(!e.target)switch(e.target=e.srcElement,e.currentTarget=t||e.srcElement,"mouseover"==e.type&&(e.relatedTarget=e.fromElement),"mouseout"==e.type&&(e.relatedTarget=e.toElement),e.stopPropagation||(e.stopPropagation=y,e.preventDefault=w),e.type){case"keypress":var i="charCode"in e?e.charCode:e.keyCode;10==i?(i=0,e.keyCode=13):13==i||27==i?i=0:3==i&&(i=99),e.charCode=i,b(e)}return e};var h,m=function(e){this.handle=e};m.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var g=function(e){return function(t){t=s._fixEvent(t,this);var n=e.call(this,t);return t.modified&&(h||setTimeout(function(){h=null}),h=t),n}},v=function(t,r,i){if(i=g(i),((t.ownerDocument?t.ownerDocument.parentWindow:t.parentWindow||t.window||window)!=top||5.8>n("jscript"))&&!n("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var o=t[r];if(!o||!o.listeners){var a=o;o=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}"),o.listeners=[],t[r]=o,o.global=this,a&&o.listeners.push(_dojoIEListeners_.push(a)-1)}var s;return o.listeners.push(s=o.global._dojoIEListeners_.push(i)-1),new m(s)}return e.after(t,r,i,!0)},b=function(e){e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",e.charOrCode=e.keyChar||e.keyCode},y=function(){this.cancelBubble=!0},w=s._preventDefault=function(){if(this.bubbledKeyCode=this.keyCode,this.ctrlKey)try{this.keyCode=0}catch(e){}this.defaultPrevented=!0,this.returnValue=!1,this.modified=!0}}if(n("touch"))var x=function(){},E=window.orientation,k=function(e){return function(t){var r=t.corrected;if(!r){var i=t.type;try{delete t.type}catch(o){}if(t.type){if(n("mozilla")){var r={};for(var a in t)r[a]=t[a]}else{x.prototype=t;var r=new x}r.preventDefault=function(){t.preventDefault()},r.stopPropagation=function(){t.stopPropagation()}}else r=t,r.type=i;if(t.corrected=r,"resize"==i)return E==window.orientation?null:(E=window.orientation,r.type="orientationchange",e.call(this,r));"rotation"in r||(r.rotation=0,r.scale=1);var s=r.changedTouches[0];for(var u in s)delete r[u],r[u]=s[u]}return e.call(this,r)}};return s}),define("dojo/Evented",["./aspect","./on"],function(e,t){function n(){}var r=e.after;return n.prototype={on:function(e,n){return t.parse(this,e,n,function(e,t){return r(e,"on"+t,n,!0)})},emit:function(){var e=[this];return e.push.apply(e,arguments),t.emit.apply(t,e)}},n}),define("dojo/topic",["./Evented"],function(e){var t=new e;return{publish:function(){return t.emit.apply(t,arguments)},subscribe:function(){return t.on.apply(t,arguments)}}}),define("dojo/dom-geometry",["./sniff","./_base/window","./dom","./dom-style"],function(e,t,n,r){function i(e,t,n,r,i,o){o=o||"px";var a=e.style;isNaN(t)||(a.left=t+o),isNaN(n)||(a.top=n+o),r>=0&&(a.width=r+o),i>=0&&(a.height=i+o)}function o(e){return"button"==e.tagName.toLowerCase()||"input"==e.tagName.toLowerCase()&&"button"==(e.getAttribute("type")||"").toLowerCase()}function a(e){return"border-box"==s.boxModel||"table"==e.tagName.toLowerCase()||o(e)}var s={};s.boxModel="content-box",e("ie")&&(s.boxModel="BackCompat"==document.compatMode?"border-box":"content-box"),s.getPadExtents=function(e,t){e=n.byId(e);var i=t||r.getComputedStyle(e),o=r.toPixelValue,a=o(e,i.paddingLeft),s=o(e,i.paddingTop),u=o(e,i.paddingRight),c=o(e,i.paddingBottom);return{l:a,t:s,r:u,b:c,w:a+u,h:s+c}};var u="none";s.getBorderExtents=function(e,t){e=n.byId(e);var i=r.toPixelValue,o=t||r.getComputedStyle(e),a=o.borderLeftStyle!=u?i(e,o.borderLeftWidth):0,s=o.borderTopStyle!=u?i(e,o.borderTopWidth):0,c=o.borderRightStyle!=u?i(e,o.borderRightWidth):0,d=o.borderBottomStyle!=u?i(e,o.borderBottomWidth):0;return{l:a,t:s,r:c,b:d,w:a+c,h:s+d}},s.getPadBorderExtents=function(e,t){e=n.byId(e);var i=t||r.getComputedStyle(e),o=s.getPadExtents(e,i),a=s.getBorderExtents(e,i);return{l:o.l+a.l,t:o.t+a.t,r:o.r+a.r,b:o.b+a.b,w:o.w+a.w,h:o.h+a.h}},s.getMarginExtents=function(e,t){e=n.byId(e);var i=t||r.getComputedStyle(e),o=r.toPixelValue,a=o(e,i.marginLeft),s=o(e,i.marginTop),u=o(e,i.marginRight),c=o(e,i.marginBottom);return{l:a,t:s,r:u,b:c,w:a+u,h:s+c}},s.getMarginBox=function(t,i){t=n.byId(t);var o,a=i||r.getComputedStyle(t),c=s.getMarginExtents(t,a),d=t.offsetLeft-c.l,l=t.offsetTop-c.t,f=t.parentNode,p=r.toPixelValue;if(e("mozilla")){var h=parseFloat(a.left),m=parseFloat(a.top);isNaN(h)||isNaN(m)?f&&f.style&&(o=r.getComputedStyle(f),"visible"!=o.overflow&&(d+=o.borderLeftStyle!=u?p(t,o.borderLeftWidth):0,l+=o.borderTopStyle!=u?p(t,o.borderTopWidth):0)):(d=h,l=m)}else(e("opera")||8==e("ie")&&!e("quirks"))&&f&&(o=r.getComputedStyle(f),d-=o.borderLeftStyle!=u?p(t,o.borderLeftWidth):0,l-=o.borderTopStyle!=u?p(t,o.borderTopWidth):0);return{l:d,t:l,w:t.offsetWidth+c.w,h:t.offsetHeight+c.h}},s.getContentBox=function(t,i){t=n.byId(t);var o,a=i||r.getComputedStyle(t),u=t.clientWidth,c=s.getPadExtents(t,a),d=s.getBorderExtents(t,a);return u?(o=t.clientHeight,d.w=d.h=0):(u=t.offsetWidth,o=t.offsetHeight),e("opera")&&(c.l+=d.l,c.t+=d.t),{l:c.l,t:c.t,w:u-c.w-d.w,h:o-c.h-d.h}},s.setContentSize=function(e,t,r){e=n.byId(e);var o=t.w,u=t.h;if(a(e)){var c=s.getPadBorderExtents(e,r);o>=0&&(o+=c.w),u>=0&&(u+=c.h)}i(e,0/0,0/0,o,u)};var c={l:0,t:0,w:0,h:0};return s.setMarginBox=function(t,u,d){t=n.byId(t);var l=d||r.getComputedStyle(t),f=u.w,p=u.h,h=a(t)?c:s.getPadBorderExtents(t,l),m=s.getMarginExtents(t,l);if(e("webkit")&&o(t)){var g=t.style;f>=0&&!g.width&&(g.width="4px"),p>=0&&!g.height&&(g.height="4px")}f>=0&&(f=Math.max(f-h.w-m.w,0)),p>=0&&(p=Math.max(p-h.h-m.h,0)),i(t,u.l,u.t,f,p)},s.isBodyLtr=function(e){return e=e||t.doc,"ltr"==(t.body(e).dir||e.documentElement.dir||"ltr").toLowerCase()},s.docScroll=function(n){n=n||t.doc;var r=t.doc.parentWindow||t.doc.defaultView;return"pageXOffset"in r?{x:r.pageXOffset,y:r.pageYOffset}:(r=e("quirks")?t.body(n):n.documentElement)&&{x:s.fixIeBiDiScrollLeft(r.scrollLeft||0,n),y:r.scrollTop||0}},e("ie")&&(s.getIeDocumentElementOffset=function(n){n=n||t.doc;var r=n.documentElement;if(8>e("ie")){var i=r.getBoundingClientRect(),o=i.left,a=i.top;return 7>e("ie")&&(o+=r.clientLeft,a+=r.clientTop),{x:0>o?0:o,y:0>a?0:a}}return{x:0,y:0}}),s.fixIeBiDiScrollLeft=function(n,r){r=r||t.doc;var i=e("ie");if(i&&!s.isBodyLtr(r)){var o=e("quirks"),a=o?t.body(r):r.documentElement,u=t.global;return 6==i&&!o&&u.frameElement&&a.scrollHeight>a.clientHeight&&(n+=a.clientLeft),8>i||o?n+a.clientWidth-a.scrollWidth:-n}return n},s.position=function(r,i){r=n.byId(r);var o=t.body(r.ownerDocument),a=r.getBoundingClientRect();if(a={x:a.left,y:a.top,w:a.right-a.left,h:a.bottom-a.top},9>e("ie")){var u=s.getIeDocumentElementOffset(r.ownerDocument);a.x-=u.x+(e("quirks")?o.clientLeft+o.offsetLeft:0),a.y-=u.y+(e("quirks")?o.clientTop+o.offsetTop:0)}if(i){var c=s.docScroll(r.ownerDocument);a.x+=c.x,a.y+=c.y}return a},s.getMarginSize=function(e,t){e=n.byId(e);var i=s.getMarginExtents(e,t||r.getComputedStyle(e)),o=e.getBoundingClientRect();return{w:o.right-o.left+i.w,h:o.bottom-o.top+i.h}},s.normalizeEvent=function(t){if("layerX"in t||(t.layerX=t.offsetX,t.layerY=t.offsetY),!e("dom-addeventlistener")){var n=t.target,r=n&&n.ownerDocument||document,i=e("quirks")?r.body:r.documentElement,o=s.getIeDocumentElementOffset(r);t.pageX=t.clientX+s.fixIeBiDiScrollLeft(i.scrollLeft||0,r)-o.x,t.pageY=t.clientY+(i.scrollTop||0)-o.y}},s}),define("dojo/_base/event",["./kernel","../on","../has","../dom-geometry"],function(e,t,n,r){if(t._fixEvent){var i=t._fixEvent;t._fixEvent=function(e,t){return e=i(e,t),e&&r.normalizeEvent(e),e}}var o={fix:function(e,n){return t._fixEvent?t._fixEvent(e,n):e},stop:function(e){n("dom-addeventlistener")||e&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e=e||window.event,e.cancelBubble=!0,t._preventDefault.call(e))}};return n("extend-dojo")&&(e.fixEvent=o.fix,e.stopEvent=o.stop),o}),define("dojo/mouse",["./_base/kernel","./on","./has","./dom","./_base/window"],function(e,t,n,r,i){function o(e,n){var i=function(i,o){return t(i,e,function(e){return n?n(e,o):r.isDescendant(e.relatedTarget,i)?void 0:o.call(this,e)})};return i.bubble=function(t){return o(e,function(e,n){var r=t(e.target),i=e.relatedTarget;return r&&r!=(i&&1==i.nodeType&&t(i))?n.call(r,e):void 0})},i}n.add("dom-quirks",i.doc&&"BackCompat"==i.doc.compatMode),n.add("events-mouseenter",i.doc&&"onmouseenter"in i.doc.createElement("div")),n.add("events-mousewheel",i.doc&&"onmousewheel"in i.doc);var a;a=n("dom-quirks")&&n("ie")||!n("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,t){return e.button&t},isLeft:function(e){return 1&e.button},isMiddle:function(e){return 4&e.button},isRight:function(e){return 2&e.button}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,t){return e.button==t},isLeft:function(e){return 0==e.button},isMiddle:function(e){return 1==e.button},isRight:function(e){return 2==e.button}},e.mouseButtons=a;var s;return s=n("events-mousewheel")?"mousewheel":function(e,n){return t(e,"DOMMouseScroll",function(e){e.wheelDelta=-e.detail,n.call(this,e)})},{_eventHandler:o,enter:o("mouseover"),leave:o("mouseout"),wheel:s,isLeft:a.isLeft,isMiddle:a.isMiddle,isRight:a.isRight}}),define("dojo/_base/sniff",["./kernel","./lang","../sniff"],function(e,t,n){return n("host-browser")?(e._name="browser",t.mixin(e,{isBrowser:!0,isFF:n("ff"),isIE:n("ie"),isKhtml:n("khtml"),isWebKit:n("webkit"),isMozilla:n("mozilla"),isMoz:n("mozilla"),isOpera:n("opera"),isSafari:n("safari"),isChrome:n("chrome"),isMac:n("mac"),isIos:n("ios"),isAndroid:n("android"),isWii:n("wii"),isQuirks:n("quirks"),isAir:n("air")}),n):n}),define("dojo/keys",["./_base/kernel","./sniff"],function(e,t){return e.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:t("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:t("mac")&&!t("air")?t("safari")?91:224:17}}),define("dojo/_base/connect",["./kernel","../on","../topic","../aspect","./event","../mouse","./sniff","./lang","../keys"],function(e,t,n,r,i,o,a,s){function u(n,i,a,u,c){if(u=s.hitch(a,u),!n||!n.addEventListener&&!n.attachEvent)return r.after(n||e.global,i,u,!0);if("string"==typeof i&&"on"==i.substring(0,2)&&(i=i.substring(2)),n||(n=e.global),!c)switch(i){case"keypress":i=d;break;case"mouseenter":i=o.enter;break;case"mouseleave":i=o.leave}return t(n,i,u,c)}function c(e){e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",e.charOrCode=e.keyChar||e.keyCode}a.add("events-keypress-typed",function(){var e={charCode:0};try{e=document.createEvent("KeyboardEvent"),(e.initKeyboardEvent||e.initKeyEvent).call(e,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(t){}return 0==e.charCode&&!a("opera")});var d,l={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},f=a("mac")?"metaKey":"ctrlKey",p=function(e,t){var n=s.mixin({},e,t);return c(n),n.preventDefault=function(){e.preventDefault()},n.stopPropagation=function(){e.stopPropagation()},n};if(a("events-keypress-typed")){var h=function(e,t){try{return e.keyCode=t}catch(e){return 0}};d=function(e,n){var r=t(e,"keydown",function(e){var t=e.keyCode,r=13!=t&&32!=t&&(27!=t||!a("ie"))&&(48>t||t>90)&&(96>t||t>111)&&(186>t||t>192)&&(219>t||t>222)&&229!=t;if(r||e.ctrlKey){var i=r?0:t;if(e.ctrlKey){if(3==t||13==t)return n.call(e.currentTarget,e);i>95&&106>i?i-=48:!e.shiftKey&&i>=65&&90>=i?i+=32:i=l[i]||i}var o=p(e,{type:"keypress",faux:!0,charCode:i});n.call(e.currentTarget,o),a("ie")&&h(e,o.keyCode)}}),i=t(e,"keypress",function(e){var t=e.charCode;return t=t>=32?t:0,e=p(e,{charCode:t,faux:!0}),n.call(this,e)});return{remove:function(){r.remove(),i.remove()}}}}else d=a("opera")?function(e,n){return t(e,"keypress",function(e){var t=e.which;return 3==t&&(t=99),t=32>t&&!e.shiftKey?0:t,e.ctrlKey&&!e.shiftKey&&t>=65&&90>=t&&(t+=32),n.call(this,p(e,{charCode:t}))})}:function(e,n){return t(e,"keypress",function(e){return c(e),n.call(this,e)})};var m={_keypress:d,connect:function(){var e=arguments,t=[],n=0;t.push("string"==typeof e[0]?null:e[n++],e[n++]);var r=e[n+1];t.push("string"==typeof r||"function"==typeof r?e[n++]:null,e[n++]);for(var i=e.length;i>n;n++)t.push(e[n]);return u.apply(this,t)},disconnect:function(e){e&&e.remove()},subscribe:function(e,t,r){return n.subscribe(e,s.hitch(t,r))},publish:function(e,t){return n.publish.apply(n,[e].concat(t))},connectPublisher:function(e,t,n){var r=function(){m.publish(e,arguments)};return n?m.connect(t,n,r):m.connect(t,r)},isCopyKey:function(e){return e[f]}};return m.unsubscribe=m.disconnect,a("extend-dojo")&&s.mixin(e,m),m}),define("dojo/dom-prop",["exports","./_base/kernel","./sniff","./_base/lang","./dom","./dom-style","./dom-construct","./_base/connect"],function(e,t,n,r,i,o,a,s){var u={},c=0,d=t._scopeName+"attrid";e.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"},e.get=function(t,n){t=i.byId(t);var r=n.toLowerCase(),o=e.names[r]||n;return t[o]},e.set=function(t,l,f){t=i.byId(t);var p=arguments.length;if(2==p&&"string"!=typeof l){for(var h in l)e.set(t,h,l[h]);return t}var m=l.toLowerCase(),g=e.names[m]||l;if("style"==g&&"string"!=typeof f)return o.set(t,f),t;if("innerHTML"==g)return n("ie")&&t.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(a.empty(t),t.appendChild(a.toDom(f,t.ownerDocument))):t[g]=f,t;if(r.isFunction(f)){var v=t[d];v||(v=c++,t[d]=v),u[v]||(u[v]={});var b=u[v][g];if(b)s.disconnect(b);else try{delete t[g]}catch(y){}return f?u[v][g]=s.connect(t,g,f):t[g]=null,t}return t[g]=f,t}}),define("dojo/dom-attr",["exports","./sniff","./_base/lang","./dom","./dom-style","./dom-prop"],function(e,t,n,r,i,o){function a(e,t){var n=e.getAttributeNode&&e.getAttributeNode(t);return n&&n.specified}var s={innerHTML:1,className:1,htmlFor:t("ie"),value:1},u={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};e.has=function(e,t){var n=t.toLowerCase();return s[o.names[n]||t]||a(r.byId(e),u[n]||t)},e.get=function(e,t){e=r.byId(e);var i=t.toLowerCase(),c=o.names[i]||t,d=s[c],l=e[c];if(d&&l!==void 0)return l;if("href"!=c&&("boolean"==typeof l||n.isFunction(l)))return l;var f=u[i]||t;return a(e,f)?e.getAttribute(f):null},e.set=function(t,a,c){if(t=r.byId(t),2==arguments.length){for(var d in a)e.set(t,d,a[d]);return t}var l=a.toLowerCase(),f=o.names[l]||a,p=s[f];return"style"==f&&"string"!=typeof c?(i.set(t,c),t):p||"boolean"==typeof c||n.isFunction(c)?o.set(t,a,c):(t.setAttribute(u[l]||a,c),t)},e.remove=function(e,t){r.byId(e).removeAttribute(u[t.toLowerCase()]||t)},e.getNodeProp=function(e,t){e=r.byId(e);var n=t.toLowerCase(),i=o.names[n]||t;if(i in e&&"href"!=i)return e[i];var s=u[n]||t;return a(e,s)?e.getAttribute(s):null}}),define("dojo/dom-construct",["exports","./_base/kernel","./sniff","./_base/window","./dom","./dom-attr"],function(e,t,n,r,i,o){function a(e,t){var n=t.parentNode;n&&n.insertBefore(e,t)}function s(e,t){var n=t.parentNode;n&&(n.lastChild==t?n.appendChild(e):n.insertBefore(e,t.nextSibling))}function u(e){if(e.canHaveChildren)try{return e.innerHTML="",void 0}catch(t){}for(var n;n=e.lastChild;)c(n,e)}function c(e,t){e.firstChild&&u(e),t&&(n("ie")&&t.canHaveChildren&&"removeNode"in e?e.removeNode(!1):t.removeChild(e))}var d={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},l=/<\s*([\w\:]+)/,f={},p=0,h="__"+t._scopeName+"ToDomId";for(var m in d)if(d.hasOwnProperty(m)){var g=d[m];g.pre="option"==m?'<select multiple="multiple">':"<"+g.join("><")+">",g.post="</"+g.reverse().join("></")+">"}var v;8>=n("ie")&&(v=function(e){e.__dojo_html5_tested="yes";var t=b("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},e.body);1!==t.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(t){e.createElement(t)}),y(t)}),e.toDom=function(e,t){t=t||r.doc;var i=t[h];i||(t[h]=i=++p+"",f[i]=t.createElement("div")),8>=n("ie")&&!t.__dojo_html5_tested&&t.body&&v(t),e+="";var o,a,s,u,c=e.match(l),m=c?c[1].toLowerCase():"",g=f[i];if(c&&d[m])for(o=d[m],g.innerHTML=o.pre+e+o.post,a=o.length;a;--a)g=g.firstChild;else g.innerHTML=e;if(1==g.childNodes.length)return g.removeChild(g.firstChild);for(u=t.createDocumentFragment();s=g.firstChild;)u.appendChild(s);return u},e.place=function(t,n,r){if(n=i.byId(n),"string"==typeof t&&(t=/^\s*</.test(t)?e.toDom(t,n.ownerDocument):i.byId(t)),"number"==typeof r){var o=n.childNodes;!o.length||r>=o.length?n.appendChild(t):a(t,o[0>r?0:r])}else switch(r){case"before":a(t,n);break;case"after":s(t,n);break;case"replace":n.parentNode.replaceChild(t,n);break;case"only":e.empty(n),n.appendChild(t);break;case"first":if(n.firstChild){a(t,n.firstChild);break}default:n.appendChild(t)}return t};var b=e.create=function b(t,n,a,s){var u=r.doc;return a&&(a=i.byId(a),u=a.ownerDocument),"string"==typeof t&&(t=u.createElement(t)),n&&o.set(t,n),a&&e.place(t,a,s),t};e.empty=function(e){u(i.byId(e))};var y=e.destroy=function y(e){e=i.byId(e),e&&c(e,e.parentNode)}}),define("main",["dojo/dom","dojo/dom-construct","esri/lang"],function(e,t,n){var r="<div>"+n.substitute({state_name:"Arizona",state_capital:"Phoenix"},"The capital of ${state_name} is ${state_capital}.")+"</div>";t.place(r,"message")}),require.config({paths:{components:"../components",dojo:"../components/dojo-release-1.9.1-src/dojo",esri:"http://js.arcgis.com/3.7/js/esri"}}),window.requireTestMode||require(["main"],function(){}),define("config",function(){});